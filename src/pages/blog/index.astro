---
import LayoutSeo from '@layouts/LayoutSeo.astro';
import { getCollection, type CollectionEntry } from 'astro:content';
import { getBlogJsonLd } from '@utils/jsonld';
import BlogPost from '@components/sections/BlogPost.astro';
// interface Props {
//     post: CollectionEntry<'posts'>;
// }
// const { post } = Astro.props;
// const frontmatter = posts.data;

const tituloPagina = 'blog';
const blogPosts = await getCollection('posts');

const blogPostsJsonLd = getBlogJsonLd();

// const homeJsonLd = getHomeJsonLd();
---

<LayoutSeo tituloPagina={tituloPagina} seoJsonLd={blogPostsJsonLd}>
    <div class="max-w-7xl mx-auto">
        <!-- Header del blog -->
        <header class="mb-12 text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-[--color-text] mb-4">
                Blog de IQEngi
            </h1>
            <p class="text-xl text-[--color-text-muted] max-w-2xl mx-auto">
                Artículos técnicos, guías especializadas y análisis profundos
                sobre ingeniería y tecnología
            </p>
        </header>

        <!-- Grid de posts -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {blogPosts.map((post) => <BlogPost post={post} />)}
        </div>
    </div>
</LayoutSeo>
