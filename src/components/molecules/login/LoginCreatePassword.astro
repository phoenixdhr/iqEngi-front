---
/* Si estás usando Astro, aquí podrías importar algo si fuera necesario,
   por ejemplo variables de entorno o configuración del sitio.
   En caso contrario, puedes omitir esta sección. */
---

<createPassword>
    <!-- Modal para "Crear una contraseña" --><!-- Título e indicación -->
    <div id="div-create-password" class="text-center">
        <h2 class="text-xl font-semibold mb-1">
            Crea una contraseña para el correo <span id="spanEmail"></span>
        </h2>

        <p class="text-sm text-gray-500 mb-4">
            Debe tener al menos 10 caracteres
        </p>
    </div>

    <!-- Formulario para ingresar y confirmar contraseña -->
    <form class="space-y-6" id="createPasswordForm">
        <input
            id="passwordInput"
            type="password"
            placeholder="Contraseña"
            required
            class="w-full h-12 px-4 bg-white border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-400 rounded-full text-gray-900 text-center placeholder:text-center"
        />
        <input
            id="confirmPasswordInput"
            type="password"
            placeholder="Confirmar contraseña"
            required
            class="w-full h-12 px-4 bg-white border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-400 rounded-full text-gray-900 text-center placeholder:text-center"
        />

        <button
            type="submit"
            class="w-full h-12 text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 font-medium text-sm hover:scale-105 transition-transform rounded-full"
        >
            Continuar
        </button>
    </form>

    <p id="error-message" class="text-red-500 mt-2 hidden">
        Las contraseñas no coinciden.
    </p>

    <div class="h-8"></div>

    <!-- Aviso de términos y políticas -->
    <p class="text-xs text-gray-500 text-center mt-6">
        Al crear una cuenta en IqEngi, aceptas los
        <a href="#" class="text-purple-dark-400 underline"
            >Términos de Servicio</a
        >
        y
        <a href="#" class="text-purple-dark-400 underline"
            >Políticas de Privacidad</a
        >.
    </p>
</createPassword>

<script>
    const createPasswordForm = document.getElementById(
        'createPasswordForm',
    ) as HTMLFormElement;

    createPasswordForm.addEventListener('submit', async (event) => {
        event.preventDefault();

        const loginCreatePasswordDiv = document.getElementById(
            'loginCreatePasswordDiv',
        ) as HTMLDivElement;
        loginCreatePasswordDiv &&
            loginCreatePasswordDiv.classList.add('hidden');

        const loginCreatePasswordNameDiv = document.getElementById(
            'loginCreatePasswordNameDiv',
        ) as HTMLDivElement;
        loginCreatePasswordNameDiv &&
            loginCreatePasswordNameDiv.classList.remove('hidden');
    });
</script>
