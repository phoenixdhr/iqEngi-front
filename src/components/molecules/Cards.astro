---
import type { Curso } from '@graphql-astro/generated/graphql';

/**
 * Extrae las propiedades del objeto `Astro.props`,
 * que se pasan desde el componente padre.
 */
export interface Props extends Curso {
    isBig: boolean; // Agregando una nueva propiedad
}

const {
    courseTitle,
    imagenURL,
    descripcionCorta,
    // duracionHoras,
    // precio,
    _id,
    slug,
} = Astro.props;

const slugCurso = slug || 'curso-no-encontrado';
---

<!-- Enlace a la página del curso correspondiente -->
<!-- Enlace a la página del curso correspondiente -->
<div class="card bg-[var(--color-surface)] shadow-lg border border-base-200 w-full h-full transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:border-primary/30 flex flex-col group overflow-hidden">
    <!-- Imagen del curso con enlace -->
    <a href={`/cursos/${slugCurso}`} class="aspect-video relative overflow-hidden block">
        <img
            src={imagenURL?.url}
            alt={imagenURL?.alt}
            loading="lazy"
            decoding="async"
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
        />
    </a>

    <div class="card-body flex-1 flex flex-col p-5">
        <!-- Título y descripción del curso -->
        <a href={`/cursos/${slugCurso}`} class="hover:text-primary transition-colors">
            <h2 class="card-title text-lg font-bold min-h-[3.5rem] leading-tight filter drop-shadow-sm">
                {courseTitle}
            </h2>
        </a>
        <p class="text-sm line-clamp-3 mb-4 flex-grow text-base-content/70">{descripcionCorta}</p>

        <!-- Botón para añadir el curso al carrito -->
        <div class="card-actions justify-end mt-auto pt-3 border-t border-base-200/50">
            <a href={`/cursos/${slugCurso}`} class="btn btn-primary h-10 min-h-[40px] px-6 text-white shadow-md shadow-primary/20 hover:bg-[var(--color-btn-hover)] hover:border-[var(--color-btn-hover)] hover:shadow-lg hover:shadow-[var(--color-btn-hover)]/40 hover:scale-[1.03] uppercase font-bold tracking-wide w-full md:w-auto rounded-xl transition-all duration-300">
                Ver Detalles
            </a>
        </div>
    </div>
</div>
