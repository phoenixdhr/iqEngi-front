---
import type { Curso } from '@graphql-astro/generated/graphql';

/**
 * Extrae las propiedades del objeto `Astro.props`,
 * que se pasan desde el componente padre.
 */
export interface Props extends Curso {
    isBig: boolean; // Agregando una nueva propiedad
}

const {
    courseTitle,
    imagenURL,
    descripcionCorta,
    // duracionHoras,
    // precio,
    _id,
    slug,
} = Astro.props;

const slugCurso = slug || 'curso-no-encontrado';
---

<!-- Enlace a la página del curso correspondiente -->
<!-- Enlace a la página del curso correspondiente -->
<a href={`/cursos/${slugCurso}`} class="text-current no-underline group h-full block"> <!-- Añadido h-full block y group para hover -->
    <div
        class="card bg-base-100 shadow-xl w-full h-full transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:contrast-125 flex flex-col"
    >
        <!-- Imagen del curso con transición de vista -->
        <figure class="aspect-video relative overflow-hidden">
            <img
                src={imagenURL?.url}
                alt={imagenURL?.alt}
                class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
            />
        </figure>

        <div class="card-body flex-1 flex flex-col p-5">
            <!-- Título y descripción del curso -->
            <h2
                class="card-title text-lg font-bold min-h-[3.5rem]" 
            >
                {courseTitle}
            </h2>
            <p class="text-sm line-clamp-3 mb-4 flex-grow">{descripcionCorta}</p>

            <!-- Botón para añadir el curso al carrito (puede requerir funcionalidad adicional) -->
            <div class="card-actions justify-end mt-auto">
                <button
                    class="btn btn-primary bg-iq-purple-light-mid-200 border-iq-purple-light-mid-200 btn-sm w-full md:w-auto"
                >
                    Añadir a carrito
                </button>
            </div>
        </div>
    </div>
</a>
